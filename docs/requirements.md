# test1_memo 要件定義書

**バージョン**: 1.0.0
**最終更新日**: 2025-11-18
**ステータス**: ドラフト

## 1. プロジェクト概要

### 1.1 目的と背景

このプロジェクトは、**ソフトウェア開発初心者がWeb開発の基礎を学び、成功体験を積むための練習用メモアプリケーション**です。

現在、Obsidianを使用しているが、マークダウン機能が不要でよりシンプルなテキストベースのメモアプリが欲しいという課題があります。本プロジェクトでは、シンプルで使いやすいメモ管理アプリを段階的に開発し、最終的にはデスクトップアプリケーションとして実用可能な状態を目指します。

### 1.2 ターゲットユーザー

- **個人ユーザー（本人のみ）**: 日常のメモ、思考整理、ドキュメント作成に使用

### 1.3 成功指標

プロジェクトの成功は以下の2点で測定されます：

1. **実用性**: 最終的にデスクトップアプリケーション化し、実際に日常的に使える状態になる
2. **学習効果**: Web開発（HTML/CSS/JavaScript、フロントエンド/バックエンド、データ管理）の基礎を習得し、成功体験を得る

### 1.4 開発アプローチ

本プロジェクトは段階的な開発アプローチを採用します：

**Phase 1（1〜2週間）**: ブラウザベースのプロトタイプ
- 最小限の機能で動作するメモアプリを作成
- ローカルブラウザで動作（LocalStorage使用）
- Web開発の基礎を学習

**Phase 2（Phase 1完了後）**: デスクトップアプリ化
- Electronを使用してデスクトップアプリに変換
- ローカルファイルシステムへのデータ保存
- クラウドストレージ（OneDrive、Dropbox等）との連携

**Phase 3（Phase 2完了後）**: 機能拡張
- フォルダ階層構造
- タグ管理
- エクスポート機能
- エディタ設定
- その他の追加機能

---

## 2. Phase 1（プロトタイプ）要件

### 2.1 核となる機能

Phase 1では、以下の最小限の機能を実装します：

| 機能 | 説明 | 必要性の理由 |
|------|------|-------------|
| メモ作成・編集・削除 | テキストメモの基本的なCRUD操作 | *この機能がないとメモアプリとして成立しない* |
| 簡易フォルダ管理 | 1階層のフォルダでメモを分類 | *メモを整理する最低限の仕組みが必要* |
| シンプル検索 | メモのタイトルと本文を検索 | *多くのメモから目的のものを見つけるために必須* |
| 基本的なUI | 見やすく使いやすい画面 | *実用的に使えるために必要* |

### 2.2 Phase 1の画面構成

#### 2.2.1 メインページ（P-001）

**ページ概要**: メモの閲覧・作成・編集を行うメインページ

**レイアウト構成**:
```
+------------------+-------------------------+
|   フォルダ一覧   |      メモ一覧          |
|                  |    (選択フォルダ内)    |
|  - すべて        |                         |
|  - 仕事          |  ○ メモ1               |
|  - 趣味          |  ○ メモ2               |
|  - その他        |  ○ メモ3               |
|                  |                         |
|  [+新規フォルダ] |  [+新規メモ]           |
+------------------+-------------------------+
|                                            |
|          メモ編集エリア                    |
|                                            |
|  タイトル: [________________]             |
|                                            |
|  本文:                                     |
|  +---------------------------------------+ |
|  |                                       | |
|  |                                       | |
|  |                                       | |
|  +---------------------------------------+ |
|                                            |
|  [保存] [削除]                            |
+--------------------------------------------+
```

**含まれる画面要素**:
- **フォルダ一覧**: 作成したフォルダの一覧表示、フォルダの選択・作成・削除
- **メモ一覧**: 選択フォルダ内のメモ一覧、メモの選択・作成
- **検索バー**: メモのタイトルと本文を検索
- **メモ編集エリア**: メモのタイトルと本文の編集
- **操作ボタン**: 保存、削除ボタン

**状態と動作**:
- フォルダを選択すると、そのフォルダ内のメモ一覧が表示される
- メモを選択すると、編集エリアに内容が表示される
- 新規メモボタンで空のメモが作成される
- 保存ボタンでメモがLocalStorageに保存される
- 削除ボタンで確認ダイアログ後、メモが削除される
- 検索バーに入力すると、リアルタイムで該当メモが絞り込まれる

**データとAPI**:

Phase 1ではバックエンドAPIは使用せず、全てブラウザのLocalStorageで管理します。

```javascript
// データモデル（LocalStorage）
{
  folders: [
    { id: "1", name: "仕事", createdAt: "2025-11-18T00:00:00Z" }
  ],
  memos: [
    {
      id: "1",
      folderId: "1",
      title: "メモのタイトル",
      content: "メモの本文（最大10万文字対応）",
      createdAt: "2025-11-18T00:00:00Z",
      updatedAt: "2025-11-18T12:00:00Z"
    }
  ]
}
```

### 2.3 Phase 1の技術スタック

Phase 1では学習コストを最小限にするため、シンプルな技術構成を採用します：

- **フロントエンド**: HTML + CSS + Vanilla JavaScript（またはReact/Vueの基礎）
- **データ保存**: LocalStorage
- **開発環境**: ブラウザ（Chrome/Edge等）
- **デプロイ**: 不要（ローカルでHTMLファイルを開く）

---

## 3. Phase 2以降（最終目標）要件

### 3.1 Phase 2: デスクトップアプリ化

**目標**: Phase 1で作成したブラウザアプリをデスクトップアプリに変換

**主要タスク**:
- Electronのセットアップ
- LocalStorageからファイルシステムへのデータ保存変更
- デスクトップアプリとしてのパッケージング

**データ保存方式の変更**:
- JSON形式でローカルファイルに保存
- ユーザーが保存先フォルダを指定可能
- クラウドストレージ（OneDrive、Dropbox等）のフォルダを指定することで自動同期を実現

### 3.2 Phase 3: 機能拡張

Phase 1の基本機能に加えて、以下の機能を段階的に追加します：

#### 優先度：高

| 機能 | 説明 |
|------|------|
| フォルダ階層構造 | フォルダの中にフォルダを作成できる |
| タグ管理 | メモに複数のタグを付けて分類 |
| 並び替え | メモを更新日時、作成日時、タイトル順で並び替え |

#### 優先度：中

| 機能 | 説明 |
|------|------|
| 削除設定 | 設定で「ゴミ箱に移動」or「完全削除」を選択可能 |
| エクスポート機能 | 個別メモ、フォルダ単位、全体のエクスポート |
| エディタ設定 | フォント、フォントサイズ、折り返し文字数の設定 |
| Webリンク | メモ内のURLをクリック可能にする |

#### 優先度：低（将来的に実装）

| 機能 | 説明 |
|------|------|
| 編集履歴 | 直前1バージョンの保存と差分表示 |
| タグ検索 | タグを検索対象に含める |
| お気に入り | メモをお気に入り登録 |

---

## 4. データモデル概要

### 4.1 主要エンティティ（Phase 3最終形）

| エンティティ | 主な属性 | 関連エンティティ | 備考 |
|------------|----------|----------------|------|
| Memo | id, title, content, folderId, tags[], createdAt, updatedAt | Folder, Tag | 本文は最大10万文字対応 |
| Folder | id, name, parentFolderId, createdAt | Memo | 階層構造（Phase 3で実装） |
| Tag | id, name, createdAt | Memo | Phase 3で実装 |
| Settings | deleteMode, font, fontSize, wrapLength | - | アプリの設定情報 |

---

## 5. 特記すべき非機能要件

### 5.1 パフォーマンス

- 10万文字の長文メモでもスムーズに編集できること
- 検索結果は1秒以内に表示されること

### 5.2 データの永続性

- Phase 1: LocalStorageを使用（ブラウザデータを消すとメモも消える点に注意）
- Phase 2以降: ローカルファイルに保存し、ユーザーがバックアップを管理できる

### 5.3 ユーザビリティ

- 直感的で分かりやすいUI
- ショートカットキー対応（Ctrl+S で保存など）
- レスポンシブデザイン（Phase 1では不要、Phase 3以降で検討）

---

## 6. 開発計画とマイルストーン

| フェーズ | 内容 | 期間 | ステータス |
|---------|------|------|------------|
| Phase 1 | ブラウザベースのプロトタイプ（基本機能） | 1〜2週間 | 未着手 |
| Phase 2 | デスクトップアプリ化（Electron） | 数日〜1週間 | 未着手 |
| Phase 3-A | 機能拡張（フォルダ階層、タグ、並び替え） | 2〜3週間 | 未着手 |
| Phase 3-B | 機能拡張（削除設定、エクスポート、エディタ設定） | 2〜3週間 | 未着手 |
| Phase 3-C | 機能拡張（編集履歴、その他） | 1〜2週間 | 未着手 |

---

## 7. 添付資料

- 技術スタック詳細: 後続フェーズで作成
- モックアップ: 後続フェーズで作成
- API設計書: Phase 2以降で検討
